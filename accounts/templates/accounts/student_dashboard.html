{% extends 'base.html' %}

{% block title %}Student Dashboard{% endblock %}

{% block content %}
    <h2>Student Dashboard</h2>
    <div class="row">
        <div class="col-md-6">
            <h3>Your Badge: {{ badge|title }}</h3>
            {% if badge == 'bronze' %}
                <img src="https://via.placeholder.com/100?text=Bronze" alt="Bronze Badge">
            {% elif badge == 'silver' %}
                <img src="https://via.placeholder.com/100?text=Silver" alt="Silver Badge">
            {% elif badge == 'gold' %}
                <img src="https://via.placeholder.com/100?text=Gold" alt="Gold Badge">
            {% elif badge == 'diamond' %}
                <img src="https://via.placeholder.com/100?text=Diamond" alt="Diamond Badge">
            {% else %}
                <p>No badge yet.</p>
            {% endif %}
        </div>
        <div class="col-md-6">
            <h3>Progress</h3>
            <p>Books Read: {{ book_records.count }}</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: {{ progress_width }}%" aria-valuenow="{{ book_records.count }}" aria-valuemin="0" aria-valuemax="10"> {{ book_records.count }}/10</div>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-6">
            <h3>Books Read</h3>
            <ul class="list-group">
                {% for record in book_records %}
                    <li class="list-group-item">{{ record.book.title }} - {{ record.date_read }}</li>
                {% empty %}
                    <li class="list-group-item">No books read yet.</li>
                {% endfor %}
            </ul>
            <a href="{% url 'add_book_record' %}" class="btn btn-primary mt-3">Add Book Record</a>
        </div>
        <div class="col-md-6">
            <h3>School Records</h3>
            <ul class="list-group">
                {% for record in school_records %}
                    <li class="list-group-item">{{ record.subject }} - {{ record.grade }}</li>
                {% empty %}
                    <li class="list-group-item">No school records yet.</li>
                {% endfor %}
            </ul>
            <a href="{% url 'add_school_record' %}" class="btn btn-primary mt-3">Add School Record</a>
        </div>
    </div>
{% endblock %}
